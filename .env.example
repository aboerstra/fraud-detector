# Fraud Detection System - Environment Configuration
# Copy this file to .env.local and update values for your environment

# Application Environment
APP_NAME="Fraud Detection System"
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost:8080

# Database Configuration
DB_CONNECTION=pgsql
DB_HOST=localhost
DB_PORT=5432
DB_DATABASE=fraud_detector_dev
DB_USERNAME=fraud_user
DB_PASSWORD=fraud_password

# Queue Configuration
QUEUE_CONNECTION=database
QUEUE_FAILED_DRIVER=database-uuids

# Cache Configuration
CACHE_DRIVER=redis
REDIS_HOST=localhost
REDIS_PASSWORD=null
REDIS_PORT=6379

# Session Configuration
SESSION_DRIVER=redis
SESSION_LIFETIME=120

# Logging Configuration
LOG_CHANNEL=stack
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

# AWS Configuration
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=ca-central-1
AWS_BUCKET=fraud-models-dev
AWS_USE_PATH_STYLE_ENDPOINT=false

# Bedrock Configuration
BEDROCK_MODEL_ID=anthropic.claude-3-haiku-20240307-v1:0
BEDROCK_ENDPOINT_URL=https://bedrock-runtime.ca-central-1.amazonaws.com
BEDROCK_VPC_ENDPOINT_URL=
BEDROCK_MAX_TOKENS=200
BEDROCK_TEMPERATURE=0.1
BEDROCK_DAILY_BUDGET=100.0

# ML Service Configuration
ML_SERVICE_URL=http://localhost:8000
ML_SERVICE_TIMEOUT=30
ML_MODEL_VERSION=v1.0.0
ML_FEATURE_SET_VERSION=v1.0.0

# Rules Engine Configuration
RULES_VERSION=v1.2.0
RULES_CACHE_TTL=300
RULES_CONFIG_PATH=data/rules/rules_v1.json

# Feature Engineering Configuration
FEATURE_SET_VERSION=v1.0.0
FEATURE_CACHE_TTL=600
FEATURE_VALIDATION_ENABLED=true

# Decision Engine Configuration
POLICY_VERSION=v1.3.0
POLICY_CACHE_TTL=300
POLICY_CONFIG_PATH=data/rules/policy_v1.json

# Decision Thresholds
RULE_DECLINE_THRESHOLD=0.8
RULE_REVIEW_THRESHOLD=0.6
ML_DECLINE_THRESHOLD=0.85
ML_REVIEW_THRESHOLD=0.7
ADJUDICATOR_REVIEW_THRESHOLD=0.75

# API Configuration
API_RATE_LIMIT=60
API_RATE_LIMIT_WINDOW=1
API_TIMEOUT=30
API_MAX_REQUEST_SIZE=1024

# Authentication Configuration
HMAC_ALGORITHM=sha256
HMAC_SECRET_KEY=your-hmac-secret-key-here
NONCE_EXPIRY_SECONDS=300
REPLAY_ATTACK_WINDOW=300

# Monitoring Configuration
METRICS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_ENABLED=true
AUDIT_LOGGING_ENABLED=true

# Performance Configuration
QUEUE_WORKERS=2
QUEUE_TIMEOUT=300
QUEUE_RETRY_AFTER=90
QUEUE_MAX_ATTEMPTS=3

# External Services
GEO_IP_SERVICE_URL=
GEO_IP_SERVICE_KEY=
DENY_LIST_SERVICE_URL=
DENY_LIST_SERVICE_KEY=

# Development/Testing Configuration
MOCK_BEDROCK=false
MOCK_ML_SERVICE=false
MOCK_EXTERNAL_SERVICES=true
TEST_DATA_PATH=tests/data
SAMPLE_DATA_ENABLED=true

# Security Configuration
ENCRYPT_SENSITIVE_DATA=true
AUDIT_TRAIL_RETENTION_DAYS=365
PII_REDACTION_ENABLED=true
SECURE_HEADERS_ENABLED=true

# Cost Control
BEDROCK_COST_ALERT_THRESHOLD=80.0
BEDROCK_COST_LIMIT_THRESHOLD=100.0
COST_TRACKING_ENABLED=true

# LLM Adjudicator Configuration
LLM_PROVIDER=openrouter
OPENROUTER_API_KEY=your-openrouter-api-key-here
LLM_ENDPOINT=https://openrouter.ai/api/v1/chat/completions
LLM_MODEL=anthropic/claude-sonnet-4
LLM_TIMEOUT=30
LLM_MAX_TOKENS=2000
LLM_TEMPERATURE=0.1
LLM_ADJUDICATOR_ENABLED=true
LLM_TRIGGER_MIN=0.3
LLM_TRIGGER_MAX=0.7
LLM_RETRY_ATTEMPTS=3
LLM_RETRY_DELAY=1000

# Feature Flags
ADJUDICATOR_ENABLED=true
FEATURE_CACHING_ENABLED=true
RULES_CACHING_ENABLED=true
POLICY_EXPERIMENTS_ENABLED=false

# Notification Configuration
ALERT_EMAIL=
SLACK_WEBHOOK_URL=
ALERT_THRESHOLD_ERROR_RATE=0.05
ALERT_THRESHOLD_LATENCY_P95=300000

# Data Retention
DATA_RETENTION_DAYS=90
AUDIT_LOG_RETENTION_DAYS=365
METRICS_RETENTION_DAYS=30

# Compliance
PIPEDA_COMPLIANCE_MODE=true
DATA_RESIDENCY_REGION=ca-central-1
GDPR_COMPLIANCE_MODE=false

# Mail Configuration (for notifications)
MAIL_MAILER=smtp
MAIL_HOST=mailhog
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS="noreply@frauddetection.local"
MAIL_FROM_NAME="${APP_NAME}"

# Broadcasting (for real-time updates)
BROADCAST_DRIVER=log
PUSHER_APP_ID=
PUSHER_APP_KEY=
PUSHER_APP_SECRET=
PUSHER_HOST=
PUSHER_PORT=443
PUSHER_SCHEME=https
PUSHER_APP_CLUSTER=mt1

# Filesystem Configuration
FILESYSTEM_DISK=local
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

# Sanctum Configuration (for API tokens)
SANCTUM_STATEFUL_DOMAINS=localhost,localhost:3000,127.0.0.1,127.0.0.1:8000,::1

# Telescope Configuration (for debugging)
TELESCOPE_ENABLED=false
TELESCOPE_DOMAIN=null
TELESCOPE_PATH=telescope

# Horizon Configuration (for queue monitoring)
HORIZON_DOMAIN=null
HORIZON_PATH=horizon

# Debugbar Configuration
DEBUGBAR_ENABLED=false

# Testing Configuration
TESTING_DATABASE=fraud_detector_test
TESTING_REDIS_DATABASE=1
TESTING_MOCK_EXTERNAL_SERVICES=true
TESTING_SEED_DATA=true
